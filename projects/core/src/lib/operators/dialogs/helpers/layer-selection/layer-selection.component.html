<div fxLayout="row">
    <h4>Select input {{ title }}</h4>
</div>
<div fxLayout="row">
    <mat-form-field *ngIf="hasLayers | async; else noInputAvailable" fxFlex>
        <mat-select placeholder="Input" [ngModel]="selectedLayer | async" (ngModelChange)="setSelectedLayer($event)" (onBlur)="onBlur()">
            <mat-option *ngFor="let layer of filteredLayers | async" [value]="layer">{{ layer.name }}</mat-option>
        </mat-select>
    </mat-form-field>
    <button type="button" mat-icon-button class="info" (click)="toggleExpand()">
        <mat-icon *ngIf="!expanded">expand_more</mat-icon>
        <mat-icon *ngIf="expanded">expand_less</mat-icon>
    </button>
</div>
<geoengine-layer-collection-layer-details [layerMetadata]="metadata" *ngIf="expanded"></geoengine-layer-collection-layer-details>
<mat-checkbox (click)="toggleRemoveAfterCreation()">Remove after operator creation</mat-checkbox>
<ng-template #noInputAvailable>
    <p>No Input Available</p>
</ng-template>
